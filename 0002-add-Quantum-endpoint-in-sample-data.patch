From 5ba3b6e0df35018619f900599ecab9b980913f86 Mon Sep 17 00:00:00 2001
From: Alan Pevec <apevec@redhat.com>
Date: Thu, 13 Sep 2012 14:28:12 +0200
Subject: [PATCH] add Quantum endpoint in sample data

Change-Id: Icd8166efec04e4adc18ecf7c96d43fbc4962cbeb
---
 tools/sample_data.sh |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

diff --git a/tools/sample_data.sh b/tools/sample_data.sh
index 3dda911..18419a8 100755
--- a/tools/sample_data.sh
+++ b/tools/sample_data.sh
@@ -220,9 +220,10 @@ if [[ -n "$ENABLE_SWIFT" ]]; then
 fi
 
 if [[ -n "$ENABLE_QUANTUM" ]]; then
+    QUANTUM_SERVICE=$(get_id \
     keystone service-create --name=quantum \
                             --type=network \
-                            --description="Quantum Service"
+                            --description="Quantum Service")
     QUANTUM_USER=$(get_id keystone user-create --name=quantum \
                                                --pass="$SERVICE_PASSWORD" \
                                                --tenant_id $SERVICE_TENANT \
@@ -230,6 +231,12 @@ if [[ -n "$ENABLE_QUANTUM" ]]; then
     keystone user-role-add --tenant_id $SERVICE_TENANT \
                            --user_id $QUANTUM_USER \
                            --role_id $ADMIN_ROLE
+    if [[ -n "$ENABLE_ENDPOINTS" ]]; then
+        keystone endpoint-create --region RegionOne --service_id $QUANTUM_SERVICE \
+            --publicurl http://localhost:9696 \
+            --adminurl http://localhost:9696 \
+            --internalurl http://localhost:9696
+    fi
 fi
 
 
